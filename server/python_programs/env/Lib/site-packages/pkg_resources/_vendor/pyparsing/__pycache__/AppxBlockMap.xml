s[h];if(_w.SearchAppWrapperLogging)return n[t].apply(n,s);var l=this,a=this.recordApiTimeDetail(i?i+"S":null,t),e,o,c=function(n,u){var e="stack",o=l.recordApiTimeDetail(i?i+n:null,t,a),f=u&&u[e]?" exception: "+u[e]:"";u&&f===""&&(f=" Windows error: "+u.message);l.recordApiString("ApiEnd "+n+' \t"'+(r?r:"")+'"\t'+t+"("+s.join(", ")+")\t"+(o.time.getTime()-a.time.getTime())+"ms elapsed"+f)};try{o=n[t].apply(n,s);this.recordApiTimeDetail(i?i+"P":null,t);u&&u>0&&(e=sb_st(function(){o&&o.cancel&&o.cancel();c("T");f&&f(null)},u));o.then(function(n){return e&&sb_ct(e),c("C"),n},function(n){e&&sb_ct(e);c("E",n);SharedLogHelper.LogError("Exception","Failed in overrideMethod callback: "+t,n);f&&f(null)})}catch(v){e&&sb_ct(e);c("E",v);SharedLogHelper.LogError("Exception","Failed while calling overrideMethod: "+t,v);y=new FailedPromise;o=y.then(null,f)}return o},n.prototype.cleanGuid=function(n){var t=n;return t&&(t=t.replace(this.guidCleaner,"")),t},n.prototype.parseJSON=function(n){var t,i=null;if(n)try{t=JSON.parse(n)}catch(r){i=r}return t||console.log("Unable to parse JSON input: "+n+(i?".  Exception: "+i:"")),t},n.prototype.getCortanaHeaders=function(n){var f=this,t=this;if(this.headersCallComplete){n(this.cortanaHeaders);return}if(this.headersCallbacks.push(n),!this.headersAsyncPromise){var i=null,e=!1,u=function(){i&&(sb_ct(i),i=null);t.headersCallComplete=!0},r=function(){var i,r,n;if(!e)for(t.cortanaHeaders||(t.cortanaHeadersTimedOut?SharedLogHelper.LogWarning("getCortanaHeaders",null,"Timeout"):SharedLogHelper.LogError("getCortanaHeaders",null,t.cortanaHeadersError||new Error("Missing heade